# Developer Role – AI Study Buddy

## Vision
Build a robust, modular application using FastAPI for the backend, integrating Gemini 1.5 Pro API for AI-powered text generation, and PyMuPDF for PDF parsing. Ensure seamless communication between the backend and a React/Tailwind frontend, enabling efficient file uploads, processing, and delivery of study aids to students.

## Responsibilities
- Set up the backend with FastAPI (Python) to handle API endpoints, file uploads, and integration with Gemini API.
- Implement PDF parsing using PyMuPDF to extract text from uploaded notes.
- Connect to Gemini 1.5 Pro API for generating summaries, flashcards, and quizzes.
- Develop endpoints for frontend consumption, ensuring secure and efficient data flow.
- Document all code and integration steps.

## Deliverables
- Fully working prototype in the `src/` folder.
- Well-commented codebase with clear API documentation.
- Integrated AI functionality using Gemini API.
- Example scripts and test cases.

---

## Prompts and AI Responses

### Prompt 1 – Backend Structure
**Prompt:**  
Design the backend architecture using FastAPI. What endpoints are needed for file upload, text extraction, and AI processing? Describe the structure and flow.

**AI Response:**  
- `/upload`: POST endpoint for uploading PDF or text files.  
- `/extract`: Internal function or endpoint to extract text from the uploaded file using PyMuPDF.  
- `/generate`: POST endpoint that sends extracted text and user preferences to Gemini API, returning summaries, flashcards, and quizzes.  
- Flow: Upload file → Extract text → Send to Gemini → Return results to frontend.

### Prompt 2 – Flashcard Generator
**Prompt:**  
Create an endpoint in FastAPI that receives extracted text and returns a list of flashcard Q&A pairs generated by Gemini API. Provide example input/output.

**AI Response:**  
- Endpoint: `/generate/flashcards`  
- Input: JSON with `"text": "..."` and `"num_flashcards": 10`  
- Output: JSON with a list of flashcards: `[{"question": "...", "answer": "..."}, ...]`  
- Example:  
  ```json
  {
    "flashcards": [
      {"question": "What is ...?", "answer": "..."},
      {"question": "Explain ...", "answer": "..."}
    ]
  }
  ```

### Prompt 3 – Frontend Integration
**Prompt:**  
Describe how the React frontend should interact with the FastAPI backend. Outline the API calls and data flow for uploading a file and displaying results.

**AI Response:**  
- User uploads a file using the React UI, which sends a POST request to `/upload`.
- After upload, the frontend receives a status or file ID.
- The frontend sends a POST request to `/generate` with the extracted text and user preferences.
- The backend responds with generated summaries, flashcards, and quizzes.
- The frontend displays the results in organized sections (tabs or cards), allowing the user to copy or download content.

---

### Implementation Log – Backend Development

**Task:** Added FastAPI backend with endpoints `/upload/` and `/generate/flashcards/`  
**AI Role:** Developer Agent  
**Prompt Used:**  
“Create a FastAPI backend with endpoints to upload PDF/text files and generate summaries and flashcards using Gemini API.”  

**Result:**  
- Implemented working backend with two routes.  
- Supports PDF and text parsing via PyMuPDF.  
- Successfully connects to Gemini 1.5 Pro.  
- Tested locally on `http://127.0.0.1:8000/docs`.  

**Reflection:**  
The agent produced working code on first try. Adjustments were made for Python 3.9 and environment setup on macOS (LibreSSL warning). Functionality verified successfully.

---